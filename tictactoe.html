<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tic Tac Toe</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="flex items-center justify-center w-full h-screen">
    <div id="board" class="w-[306px] h-[306px] flex flex-wrap"></div>

    <script>
        var boardMatrix = [
            [null, null, null],
            [null, null, null],
            [null, null, null],
        ];
        var currentPlayer = "X";

        var board = document.getElementById("board");

        for (let row = 0; row < boardMatrix.length; row++) {
            for (let col = 0; col < boardMatrix[row].length; col++) {
                var box = document.createElement("div");
                box.className =
                    "w-[100px] h-[100px] border flex items-center justify-center bg-wheat text-xl cursor-pointer";

                box.onmouseover = function () {
                    this.classList.add("bg-[#d2b887]");
                };

                box.onmouseleave = function () {
                    this.classList.remove("bg-[#d2b887]");
                };

                box.onclick = function () {
                    if (this.innerHTML === "") {
                        this.innerHTML = currentPlayer;
                        boardMatrix[row][col] = currentPlayer;
                        var winner = findWinner();
                        if (winner) {
                            setTimeout(() => alert("Winner is " + winner), 100);
                        } else if (isDraw()) {
                            setTimeout(() => alert("It's a Draw!"), 100);
                        }
                        currentPlayer = currentPlayer === "X" ? "O" : "X";
                    }
                };

                board.appendChild(box);
            }
        }

        function findWinner() {
            var bm = boardMatrix;

            // Check rows
            for (var row of bm) {
                if (row[0] && row[0] === row[1] && row[1] === row[2]) {
                    return row[0];
                }
            }
           

            // Check columns
            for (var col = 0; col < bm[0].length; col++) {
                if (bm[0][col] && bm[0][col] === bm[1][col] && bm[1][col] === bm[2][col]) {
                    return bm[0][col];
                }
            }

            // Check diagonals
            if (bm[0][0] && bm[0][0] === bm[1][1] && bm[1][1] === bm[2][2]) {
                return bm[0][0];
            }
            if (bm[0][2] && bm[0][2] === bm[1][1] && bm[1][1] === bm[2][0]) {
                return bm[0][2];
            }

            return null;
        }

        function isDraw() {
            return boardMatrix.flat().every((cell) => cell !== null);
        }
    </script>
</body>

</html>
